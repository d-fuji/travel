# プロダクト要求仕様書 (PRD)：共同プランニング＆バイラルVlog生成アプリ

## 1. 導入

### 1.1. 目的

本アプリは、カップルや家族が**旅行プランを共同で効率的に作成・共有**できる機能を提供します。また、旅行後にアップロードされた写真や動画から**自動でシンプルなVlogを生成**し、ユーザーが主要なSNSプラットフォーム（TikTok, Instagramリール等）で再編集・共有することを促すことで、アプリの**バイラルマーケティング効果**を最大化し、認知度向上と将来的な収益化の基盤を築きます。

### 1.2. ターゲットユーザー

* 20代〜40代のカップル、夫婦、または家族
* 旅行の計画を複数人で共同で行いたいと考えるユーザー
* 旅行の思い出を動画として手軽に残し、SNSで共有することに興味があるユーザー
* スマートフォンでの操作に慣れているユーザー

### 1.3. 解決する課題

* 旅行プランを紙や異なるツールで共有することによる情報の一元化の難しさ、共有漏れ。
* 複数人でのプランニングにおける意見集約の困難さ、調整の手間。
* 旅行後の写真や動画の整理、Vlog作成の手間と技術的ハードル。
* 思い出を共有したいが、簡単な方法がない。

---

## 2. 機能要件 (MVP)

### 2.1. ユーザー管理 (Ph1)

* **アカウント作成・ログイン:** メールアドレス、パスワード、またはSNSアカウント連携（Google, Apple ID）による登録・ログイン。
* **プロフィール設定:** ユーザー名、アイコン画像の設定。
* **旅行グループ作成・管理:**
    * グループの作成、名前設定。
    * メンバーの招待（招待リンク、またはメールアドレス/ユーザー名）。
    * メンバーの削除。

### 2.2. 旅行計画・共有機能 (Ph1)

* **旅行作成・管理:**
    * 新しい旅行の作成（旅行名、期間、目的地）。
    * 既存の旅行の閲覧、編集、削除。
* **共有旅程ボード:**
    * **リアルタイム共同編集:** 複数のメンバーが同時に旅程のテキスト入力、追加、編集、削除が可能。カーソル位置や編集中の項目がメンバー間で共有される（例: Google ドキュメントの共同編集に近い体験）。
    * **日付ごとのタイムライン:** 旅行期間中の各日付を表示し、各日付に「午前」「午後」「夜」といった時間帯を設け、アクティビティ、食事、宿泊場所の情報を入力できる。
    * **項目詳細:** 各項目にタイトル、簡単な説明（テキスト入力）、時間帯（例: 10:00〜12:00）、場所名（テキスト入力）を登録可能。
* **「行きたい場所」リスト:**
    * **個人・共有リスト:** 各メンバーが個人の「行きたい場所」を登録できる。また、それらを共有リストに追加できる。
    * **場所情報の登録:** 場所名、簡単なメモ（テキスト入力）を登録。
    * **旅程への追加:** 「行きたい場所」リストから旅程ボードの特定の日付・時間帯へ、手動でのコピー＆ペースト（MVPではドラッグ＆ドロップは含まない）で移動できる。

### 2.3. Vlog生成・共有機能 (Ph2)

* **写真・動画のアップロード:**
    * ユーザーの端末から写真と動画を選択し、アプリにアップロードできる。
    * アップロードされた写真・動画は、該当の旅行グループに関連付けられる。
* **シンプルなVlog自動生成:**
    * アップロードされた写真・動画を**撮影日時順に自動で並べ替え**る。
    * **指定された尺（例: 15秒、30秒、60秒）**で動画を自動編集・結合する。写真にはシンプルなズーム・パン効果を自動で適用。
    * **BGMは一切含めない。**
    * 生成されたVlogには、動画の冒頭または末尾に、**アプリのロゴを固定位置・固定サイズで表示**する。このロゴは無料版・有料版を問わず必ず表示されます。
* **Vlogプレビュー:**
    * 自動生成されたVlogをアプリ内でプレビュー再生できる。
* **Vlog共有・保存:**
    * 生成されたVlogを動画ファイル（例: MP4）として端末にダウンロードできる。
    * 主要なSNSプラットフォーム（TikTok, Instagramリール, YouTubeなど）やメッセージアプリへの**直接共有ボタン**を設置。
    * Vlog生成完了画面および共有ボタンの付近に、「音楽を追加して、さらに魅力的に！TikTokやInstagramリールで再編集してシェアしよう！」といった**具体的な行動を促すメッセージ**を表示する。

---

## 3. 非機能要件

* **パフォーマンス:**
    * 旅程の共同編集はリアルタイムに近い応答速度を確保。
    * Vlog生成はバックグラウンドで行い、10分以内で完了。 (Ph2)
    * 安定した動作と読み込み速度。
* **セキュリティ:**
    * ユーザーデータの保護（個人情報、旅行情報）。
    * 不正アクセス防止。
* **スケーラビリティ:**
    * ユーザー数やデータの増加に対応できるシステム設計。
* **ユーザビリティ (UI/UX):**
    * 直感的で分かりやすいインターフェース。
    * 共同編集の状況が視覚的に理解できるデザイン。
    * スマホ専用のレスポンシブデザイン。
    * PCからのアクセスは想定時なくて良い

---

## 4. キャッシュポイント (Ph3以降)

MVPでは、ユーザーベースの獲得とバイラルループの確立を最優先とし、以下の収益化モデルはMVPの成功後に導入を検討します。

* **サブスクリプションモデル (プレミアムVlog機能):**
    * 高画質Vlog出力（無料版は標準画質）。
    * 長尺Vlogの生成、または月間生成本数の制限解除。
    * より洗練されたトランジションや特殊効果、自動補正機能の提供。
    * AIによるシーン分析に基づいた、よりストーリー性のある編集提案。
    * アプリロゴの表示位置・サイズのカスタマイズ、または控えめな表示オプション（ロゴは完全に除去しないことでマーケティング効果を維持）。
    * 広告による収益化の検討。

---

## 5. 成功指標 (KPI)

* **ユーザー獲得:**
    * 月間アクティブユーザー数 (MAU)
    * 新規ユーザー登録数
    * バイラル係数 (Vlog共有による新規流入数 / 既存ユーザー数)
* **エンゲージメント:**
    * 作成された旅行グループ数
    * 作成された旅程の数、共同編集回数
    * Vlog生成数、Vlog共有数
    * アプリの平均滞在時間
* **リテンション:**
    * ユーザー継続率 (週次/月次)

---

## 6. 今後の展望 (Ph3以降)

* **地図連携機能:** 旅程の場所に地図情報を紐付け、ルート表示。
* **費用管理機能:** 旅行費用を共同で入力・管理し、清算をサポート。
* **タスク／持ち物リスト:** 共同管理、担当者割り振り、期日設定。
* **チャット機能:** アプリ内でのメンバー間チャット。
* **AIによる旅程提案:** ユーザーの好みや過去の旅程からAIがおすすめを提案。
* **オフラインモード:** インターネット接続がない場所でも旅程の閲覧・編集が可能。

---

## 7. 技術スタック

* **フロントエンド (モバイルアプリ):** Next.js
* **バックエンド:** Nest.js
* **データベース:** PostgreSQL
* **ORM:** Prisma
* **クラウドプラットフォーム:** Vercel / Supabase